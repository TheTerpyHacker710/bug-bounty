!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("vue"),require("@inertiajs/inertia")):"function"==typeof define&&define.amd?define(["exports","vue","@inertiajs/inertia"],r):r((e=e||self).InertiaVue={},e.Vue,e.Inertia)}(this,function(e,r,t){function n(){return(n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function o(e){void 0===e&&(e={});var r=JSON.parse(JSON.stringify(e)),o=null,i=function(e){return e};return n({},r,{errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data:function(){var r=this;return Object.keys(e).reduce(function(e,t){return e[t]=r[t],e},{})},transform:function(e){return i=e,this},reset:function(){var e=[].slice.call(arguments);return Object.assign(this,0===e.length?r:Object.keys(r).filter(function(r){return e.includes(r)}).reduce(function(e,t){return e[t]=r[t],e},{})),this},clearErrors:function(){var e=this,r=[].slice.call(arguments);return this.errors=Object.keys(this.errors).reduce(function(t,o){var i;return n({},t,r.length>0&&!r.includes(o)?((i={})[o]=e.errors[o],i):{})},{}),this.hasErrors=Object.keys(this.errors).length>0,this},serialize:function(){return n({errors:n({},this.errors)},this.data())},unserialize:function(e){return Object.assign(this,e),this.hasErrors=Object.keys(this.errors).length>0,this},submit:function(e,r,s){var u=this;void 0===s&&(s={});var a=i(this.data()),c=n({},s,{onBefore:function(e){if(u.wasSuccessful=!1,u.recentlySuccessful=!1,clearTimeout(o),s.onBefore)return s.onBefore(e)},onStart:function(e){if(u.processing=!0,s.onStart)return s.onStart(e)},onProgress:function(e){if(u.progress=e,s.onProgress)return s.onProgress(e)},onSuccess:function(e){if(u.clearErrors(),u.wasSuccessful=!0,u.recentlySuccessful=!0,o=setTimeout(function(){return u.recentlySuccessful=!1},2e3),s.onSuccess)return s.onSuccess(e)},onError:function(e){if(u.errors=e,u.hasErrors=!0,s.onError)return s.onError(e)},onFinish:function(){if(u.processing=!1,u.progress=null,s.onFinish)return s.onFinish()}});"delete"===e?t.Inertia.delete(r,n({},c,{data:a})):t.Inertia[e](r,a,c)},get:function(e,r){this.submit("get",e,r)},post:function(e,r){this.submit("post",e,r)},put:function(e,r){this.submit("put",e,r)},patch:function(e,r){this.submit("patch",e,r)},delete:function(e,r){this.submit("delete",e,r)}})}var i={props:{as:{type:String,default:"a"},data:{type:Object,default:function(){return{}}},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:function(){return[]}},headers:{type:Object,default:function(){return{}}}},setup:function(e,o){var i=o.slots,s=o.attrs;return function(e){var o=e.as.toLowerCase(),u=e.method.toLowerCase(),a=t.mergeDataIntoQueryString(u,t.hrefToUrl(e.href),e.data),c=a[0],l=a[1];return"a"===o&&"get"!==u&&console.warn('Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.\n\nPlease specify a more appropriate element using the "as" attribute. For example:\n\n<inertia-link href="'+c.href+'" method="'+u+'" as="button">...</inertia-link>'),r.h(e.as,n({},s,"a"===o?{href:c.href}:{},{onClick:function(r){var n;t.shouldIntercept(r)&&(r.preventDefault(),t.Inertia.visit(c.href,{data:l,method:u,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:null!=(n=e.preserveState)?n:"get"!==u,only:e.only,headers:e.headers,onCancelToken:s.onCancelToken||function(){return{}},onBefore:s.onBefore||function(){return{}},onStart:s.onStart||function(){return{}},onProgress:s.onProgress||function(){return{}},onFinish:s.onFinish||function(){return{}},onCancel:s.onCancel||function(){return{}},onSuccess:s.onSuccess||function(){return{}},onError:s.onError||function(){return{}}}))}}),i.default())}}},s={created:function(){var e=this;if(this.$options.remember){Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),"string"==typeof this.$options.remember&&(this.$options.remember={data:[this.$options.remember]}),"string"==typeof this.$options.remember.data&&(this.$options.remember={data:[this.$options.remember.data]});var o=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,i=t.Inertia.restore(o);this.$options.remember.data.forEach(function(s){void 0!==e[s]&&void 0!==i&&void 0!==i[s]&&("function"==typeof e[s].serialize&&"function"==typeof e[s].unserialize?e[s].unserialize(i[s]):e[s]=i[s]),e.$watch(s,function(){t.Inertia.remember(e.$options.remember.data.reduce(function(t,o){var i;return n({},t,((i={})[o]="function"==typeof e[o].serialize&&"function"==typeof e[o].unserialize?e[o].serialize():r.toRaw(e[o]),i))},{}),o)},{immediate:!0,deep:!0})})}}},u=r.ref(null),a=r.ref({}),c=r.ref(null),l={name:"Inertia",props:{initialPage:{type:Object,required:!0},resolveComponent:{type:Function,required:!0},resolveErrors:{type:Function,required:!1},transformProps:{type:Function,required:!1}},setup:function(e){return t.Inertia.init({initialPage:e.initialPage,resolveComponent:e.resolveComponent,resolveErrors:e.resolveErrors,transformProps:e.transformProps,swapComponent:function(e){try{return u.value=r.markRaw(e.component),a.value=e.page,c.value=e.preserveState?c.value:Date.now(),Promise.resolve()}catch(e){return Promise.reject(e)}}}),function(){if(u.value){var e=r.h(u.value,n({},a.value.props,{key:c.value}));return u.value.layout?"function"==typeof u.value.layout?u.value.layout(r.h,e):Array.isArray(u.value.layout)?u.value.layout.concat(e).reverse().reduce(function(e,t){return r.h(t,[e])}):r.h(u.value.layout,function(){return e}):e}}}},f={install:function(e){t.Inertia.form=o,Object.defineProperty(e.config.globalProperties,"$inertia",{get:function(){return t.Inertia}}),Object.defineProperty(e.config.globalProperties,"$page",{get:function(){return a.value}}),e.mixin(s),e.component("InertiaLink",i)}};e.App=l,e.Link=i,e.app=l,e.link=i,e.plugin=f,e.useForm=function(e){return r.ref(o(e))},e.usePage=function(){return{props:r.computed(function(){return a.value.props}),url:r.computed(function(){return a.value.url}),component:r.computed(function(){return a.value.component}),version:r.computed(function(){return a.value.version})}},e.useRemember=function(e,n){e=r.toRaw(r.unref(e));var o=t.Inertia.restore(n),i=r.ref(void 0===o?e:"function"==typeof e.serialize&&"function"==typeof e.unserialize?e.unserialize(o):o);return r.watch(i,function(o){t.Inertia.remember("function"==typeof e.serialize&&"function"==typeof e.unserialize?e.serialize():r.toRaw(o),n)},{immediate:!0,deep:!0}),i}});
//# sourceMappingURL=index.umd.js.map
